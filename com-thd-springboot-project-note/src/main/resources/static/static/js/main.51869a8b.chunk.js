(this["webpackJsonpprocess-management-client"]=this["webpackJsonpprocess-management-client"]||[]).push([[0],{272:function(e,t,a){},273:function(e,t,a){},274:function(e,t,a){},310:function(e,t){},499:function(e,t,a){"use strict";a.r(t);var n=a(5),i=a(0),s=a.n(i),o=a(30),c=a.n(o),r=(a(272),a(273),a.p,a(189)),l=(a(274),a(41)),d=a(42),j=a(44),h=a(43),u=a(32),b=a(505),f=a(95),m=a(17),O=a(253),p=a(50),x=a(117),y=(a(279),a(509)),g=a(83),T=a(257),S=a(503),D=a(162),v=a(31),C=a(506),M=a(511),k=a(128),Y=a(72),I=a(251),w=a(516),N=a(517),z=a(194),F=a(501),q=a(518),L=a(504),R=a(54),E=a(515),A=a(510),V=a(502),K=a(190),P=a.n(K);P.a.interceptors.response.use((function(e){if("-1"===e.data.code)throw T.b.error(e.data.msg),new Error(e.data.msg);return e.data}),(function(e){return T.b.error("Error:"+e),Promise.reject(e)}));var _=P.a,H="",B=function(e){return _({method:"get",url:"".concat(H,"/note/queryNoteLikeByPage"),params:e})},W=function(e){return _({method:"post",url:"".concat(H,"/note/addNote"),data:e})},U=function(e){return _({method:"get",url:"".concat(H,"/note/queryNoteById/").concat(e)})},Q=function(e){return _({method:"post",url:"".concat(H,"/note/updateNote"),data:e})},J=function(e){return _({method:"delete",url:"".concat(H,"/note/logicDeleteNote/").concat(e)})},G=function(e){return _({method:"delete",url:"".concat(H,"/note/deleteLogicByNoteIds"),data:e})},X=function(e,t){return _({method:"get",url:"".concat(H,"/note/search?keyWords=").concat(e)})},Z=function(){return _({method:"get",url:"".concat(H,"/note/deleteNodeIndex")})},$=function(){return _({method:"get",url:"".concat(H,"/note/createNoteIndex")})},ee=function(e){return _({method:"get",url:"".concat(H,"/note/toggleNoteState/").concat(e)})},te=function(e,t){return _({method:"post",url:"".concat(H,"/note/finishTodo"),data:{noteId:e,finishTime:t}})},ae=function(e){if(e){var t=function(e){return e<10?"0"+e:e},a=new Date(e),n=a.getFullYear(),i=a.getMonth()+1,s=a.getDate();a.getHours(),a.getMinutes(),a.getSeconds();return n+"-"+t(i)+"-"+t(s)}return""},ne=a(240),ie=a.n(ne),se=(a(312),a(313),function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={markdown:"aaaaa",id:"editor_".concat(Math.random())},e.handleChange=function(t){e.setState({markdown:t}),e.props.change(t)},e}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(ie.a,{style:{zIndex:11},selectedTab:"preview",id:this.state.id,value:this.props.content,options:{spellChecker:!1,toolbar:["bold","italic","heading","|","quote","code","table","horizontal-rule","unordered-list","ordered-list","|","link","image","|","preview","side-by-side","fullscreen","|","guide"]},onChange:this.handleChange})})}}]),a}(s.a.Component)),oe=a(186),ce=a.n(oe),re=a(241),le=a.n(re),de=(a(410),s.a.Component,a(86)),je=a.n(de),he=a(507),ue=a(508),be=a(258),fe=a(513),me=a(519),Oe=a(129),pe=a(91),xe=a(170),ye=a(520),ge=a(22),Te=a.n(ge),Se=he.a.Dragger,De=ue.a.TabPane,ve=be.a.CheckableTag,Ce=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={formData:{classify:"Todo",content:"",todoLevel:3,todoStatus:0},inputSize:"normal",formStatus:"CREATE",colSpan:24},e.createInputMode=function(t,a){e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},Object(p.a)({},a,t))})},e.createDateMode=function(t,a){e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},Object(p.a)({},a,t))})},e.createInput=function(t){return Object(n.jsx)(y.a,{size:e.state.inputSize,value:e.state.formData[t],onChange:function(a){e.createInputMode(a.target.value,t)}})},e.selectTag=function(t){return function(){e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},{classify:t})})}},e.saveNote=function(){var t=je.a.cloneDeep(e.state.formData);!0===t.todoStatus?t.todoStatus=1:t.todoStatus=0,t.startTimeTemp&&(t.startTime=t.startDateTemp+" "+t.startTimeTemp),t.finishTimeTemp&&(t.finishTime=t.finishDateTemp+" "+t.finishTimeTemp),"CREATE"===e.state.formStatus?W(t).then((function(t){e.props.closeFn(),e.props.cb&&e.props.cb(),T.b.info("SUCCESS")})).catch((function(e){})):Q(t).then((function(t){e.props.closeFn(),e.props.cb&&e.props.cb(),T.b.info("SUCCESS")})).catch((function(e){}))},e.mdChange=function(t){e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},{content:t})})},e.setClassify=function(t){e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},{classify:t.target.value})})},e.todoLevelChange=function(t,a){e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},{todoLevel:t.key})})},e.setStartTimeCurrent=function(){var t=Te()();e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},{startDateTemp:t.format("YYYY-MM-DD"),startTimeTemp:t.format("HH:mm")})})},e.setFinishTimeCurrent=function(){var t=Te()();e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},{finishDateTemp:t.format("YYYY-MM-DD"),finishTimeTemp:t.format("HH:mm")})})},e.addExpireDate=function(){var t=e.state.formData.expireDate;t||(t=Te()()),e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},{expireDate:t.add(1,"days")})})},e.subExpireDate=function(){var t=e.state.formData.expireDate;t||(t=Te()()),e.setState({formData:Object(m.a)(Object(m.a)({},e.state.formData),{},{expireDate:t.add(-1,"days")})})},e.toggleFinish=function(t,a){t?e.createInputMode(1,"todoStatus"):e.createInputMode(0,"todoStatus")},e.pageInit=function(){if(e.props.noteId)e.setState({formStatus:"EDIT"}),U(e.props.noteId).then((function(t){var a=t.result;a.startTime&&(a.startDateTemp=a.startTime.split(" ")[0],a.startTimeTemp=a.startTime.split(" ")[1]),a.finishTime&&(a.finishDateTemp=a.finishTime.split(" ")[0],a.finishTimeTemp=a.finishTime.split(" ")[1]),1===a.todoStatus?a.todoStatus=!0:a.todoStatus=!1,e.setState({formData:a})}));else{Te()();var t=Object(m.a)(Object(m.a)({},e.state.formData),{},{expireDate:Te()().add(2,"days"),alarmDays:1});e.setState({formData:t})}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.pageInit()}},{key:"render",value:function(){var e=this,t=(this.state.formData.todoLevel,{name:"file",multiple:!0,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?T.b.success("".concat(e.file.name," file uploaded successfully.")):"error"===t&&T.b.error("".concat(e.file.name," file upload failed."))}}),a=Object(n.jsx)(M.a,{count:5,value:this.state.formData.todoLevel,tooltips:["\u4e0d\u91cd\u8981","\u4e0d\u7d27\u6025","\u6b63\u5e38","\u91cd\u8981","\u7d27\u6025"],onChange:function(t){e.createInputMode(t,"todoLevel")}});return Object(n.jsx)("div",{children:Object(n.jsxs)(w.a,{gutter:24,children:[Object(n.jsx)(N.a,{span:19,children:Object(n.jsxs)(w.a,{gutter:24,children:[Object(n.jsx)(N.a,{span:"24",children:Object(n.jsx)("dl",{className:"form_col",children:Object(n.jsx)("dd",{children:Object(n.jsx)(y.a,{size:this.state.inputSize,value:this.state.formData.title,placeholder:"Title ...",onChange:function(t){e.createInputMode(t.target.value,"title")}})})})}),Object(n.jsx)(N.a,{span:"24",children:Object(n.jsxs)(ue.a,{defaultActiveKey:"1",tabBarExtraContent:a,children:[Object(n.jsx)(De,{tab:"Content",children:Object(n.jsx)(se,{change:this.mdChange,content:this.state.formData.content})},"1"),Object(n.jsx)(De,{tab:"Attachment",children:Object(n.jsxs)(Se,Object(m.a)(Object(m.a)({},t),{},{children:[Object(n.jsx)("p",{className:"ant-upload-drag-icon",children:Object(n.jsx)(me.a,{})}),Object(n.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),Object(n.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]}))},"2")]})}),Object(n.jsx)(N.a,{span:"24",style:{display:"none"},children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"PK"}),Object(n.jsx)("dd",{children:Object(n.jsx)(y.a,{size:this.state.inputSize,value:this.state.formData.noteId,onChange:function(t){e.createInputMode(t.target.value,"noteId")}})})]})})]})}),Object(n.jsx)(N.a,{span:5,children:Object(n.jsxs)(w.a,{gutter:24,children:[Object(n.jsx)(N.a,{span:24,style:{marginBottom:8},children:Object(n.jsx)("dl",{className:"form_col",children:Object(n.jsx)("dd",{children:Object(n.jsxs)("div",{style:{background:"#fffbe6",borderRadius:5,padding:8},children:[Object(n.jsx)(ve,{onChange:this.selectTag("Todo"),checked:"Todo"===this.state.formData.classify,icon:Object(n.jsx)(x.a,{icon:"th-list",style:{fontSize:14,paddingTop:2,marginRight:8,color:"#ffffff"}}),children:"Todo"},"Todo"),Object(n.jsx)(ve,{onChange:this.selectTag("Note"),checked:"Note"===this.state.formData.classify,icon:Object(n.jsx)(x.a,{icon:"clipboard-list",style:{fontSize:14,paddingTop:2,marginRight:8,color:"#ffffff"}}),children:"Note"},"Note"),Object(n.jsx)(ve,{onChange:this.selectTag("Knowledge"),checked:"Knowledge"===this.state.formData.classify,icon:Object(n.jsx)(x.a,{icon:"book",style:{fontSize:14,paddingTop:2,marginRight:8,color:"#ffffff"}}),children:"Knowledge"},"Knowledge")]})})})}),Object(n.jsx)(N.a,{span:24,style:{marginBottom:8},children:"Todo"===this.state.formData.classify?Object(n.jsxs)("div",{children:[Object(n.jsx)(F.a,{}),Object(n.jsxs)(w.a,{gutter:24,children:[Object(n.jsx)(N.a,{span:24,style:{marginBottom:8},children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"Expire Date"}),Object(n.jsxs)("dd",{style:{display:"flex",alignItems:"center"},children:[Object(n.jsx)(Oe.a,{style:{flex:"0 0 20",cursor:"pointer"},onClick:this.subExpireDate}),Object(n.jsx)(z.a,{style:{flex:"1 1 auto",marginLeft:8,marginRight:8},size:this.state.inputSize,onChange:function(t,a){e.createDateMode(a,"expireDate")},value:this.state.formData.expireDate?Te()(this.state.formData.expireDate,"YYYY-MM-DD"):null}),Object(n.jsx)(pe.a,{style:{flex:"0 0 20",cursor:"pointer"},onClick:this.addExpireDate})]})]})}),Object(n.jsx)(N.a,{span:24,style:{marginBottom:8},children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"Alarm Days"}),Object(n.jsx)("dd",{children:Object(n.jsx)(fe.a,{style:{width:"100%"},size:this.state.inputSize,value:this.state.formData.alarmDays,onChange:function(t){e.createInputMode(t,"alarmDays")}})})]})}),Object(n.jsx)(N.a,{span:24,style:{marginBottom:8},children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsxs)("dt",{children:["Start Time"," ",Object(n.jsx)(xe.a,{onClick:this.setStartTimeCurrent,style:{color:"#2db7f5",cursor:"pointer"}})]}),Object(n.jsxs)("dd",{children:[Object(n.jsx)(z.a,{style:{width:"50%"},size:this.state.inputSize,onChange:function(t,a){e.createDateMode(a,"startDateTemp")},value:this.state.formData.startDateTemp?Te()(this.state.formData.startDateTemp,"YYYY-MM-DD"):null}),Object(n.jsx)(V.a,{style:{width:"50%"},size:this.state.inputSize,format:"HH:mm",onChange:function(t,a){e.createDateMode(a,"startTimeTemp")},value:this.state.formData.startTimeTemp?Te()(this.state.formData.startTimeTemp,"HH:mm"):null})]})]})}),Object(n.jsx)(N.a,{span:24,style:{marginBottom:8},children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsxs)("dt",{children:["Finish Time"," ",Object(n.jsx)(xe.a,{onClick:this.setFinishTimeCurrent,style:{color:"#2db7f5",cursor:"pointer"}})]}),Object(n.jsxs)("dd",{children:[Object(n.jsx)(z.a,{style:{width:"50%"},size:this.state.inputSize,onChange:function(t,a){e.createDateMode(a,"finishDateTemp")},value:this.state.formData.finishDateTemp?Te()(this.state.formData.finishDateTemp,"YYYY-MM-DD"):null}),Object(n.jsx)(V.a,{style:{width:"50%"},format:"HH:mm",size:this.state.inputSize,onChange:function(t,a){e.createDateMode(a,"finishTimeTemp")},value:this.state.formData.finishTimeTemp?Te()(this.state.formData.finishTimeTemp,"HH:mm"):null})]})]})}),Object(n.jsx)(N.a,{span:24,style:{marginBottom:8},children:Object(n.jsxs)("dl",{className:"form_row",children:[Object(n.jsx)("dt",{children:"Status"}),Object(n.jsx)("dd",{children:Object(n.jsx)(q.a,{checked:this.state.formData.todoStatus,onChange:this.toggleFinish,checkedChildren:"\u5df2\u5b8c\u6210",unCheckedChildren:"\u672a\u5b8c\u6210"})})]})})]})]}):null}),Object(n.jsx)(N.a,{span:24,style:{marginBottom:8},children:Object(n.jsx)("div",{children:Object(n.jsx)(v.a,{block:!0,type:"primary",icon:Object(n.jsx)(ye.a,{}),onClick:this.saveNote,children:"Save"})})})]})})]})})}}]),a}(s.a.Component);Ce.defaultProps={noteId:"",canEdit:!0,closeFn:function(){}};var Me=Ce,ke=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={data:{},colSpan:{xs:24,sm:12,md:8,lg:6,xl:4,xxl:3}},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.noteId&&U(this.props.noteId).then((function(t){var a=t.result;a.userBirthday&&(a.userBirthday=ae(a.userBirthday)),e.setState({data:t.result})}))}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(w.a,{gutter:24,children:[Object(n.jsx)(N.a,Object(m.a)(Object(m.a)({},this.state.colSpan),{},{children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"PK"}),Object(n.jsx)("dd",{children:this.state.data.noteId})]})})),Object(n.jsx)(N.a,Object(m.a)(Object(m.a)({},this.state.colSpan),{},{children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"classify"}),Object(n.jsx)("dd",{children:this.state.data.classify})]})})),Object(n.jsx)(N.a,Object(m.a)(Object(m.a)({},this.state.colSpan),{},{children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"title"}),Object(n.jsx)("dd",{children:this.state.data.title})]})})),Object(n.jsx)(N.a,Object(m.a)(Object(m.a)({},this.state.colSpan),{},{children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"content"}),Object(n.jsx)("dd",{children:this.state.data.content})]})})),Object(n.jsx)(N.a,Object(m.a)(Object(m.a)({},this.state.colSpan),{},{children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"expireDate"}),Object(n.jsx)("dd",{children:ae(this.state.data.expireDate)})]})})),Object(n.jsx)(N.a,Object(m.a)(Object(m.a)({},this.state.colSpan),{},{children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"alarmDays"}),Object(n.jsx)("dd",{children:this.state.data.alarmDays})]})}))]})})}}]),a}(s.a.Component);ke.defaultProps={noteId:""};var Ye=ke,Ie=a(259),we=a(523),Ne=a(167),ze=a(46),Fe=a(524),qe=a(522),Le=a(169),Re=a(525),Ee=a(526),Ae=a(171),Ve=a(45),Ke=a(261),Pe=a(113),_e=a(260),He=a(512),Be=a(242),We=a(514),Ue=a(521),Qe=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state=Object(p.a)({spinning:!1,data:[],value:Te()(),selectedValue:Te()()},"selectedValue",Te()()),e.componentDidMount=function(){e.queryData()},e.headerRender=function(t){var a=t.value;return(0,t.onChange)(a),Object(n.jsx)(z.a,{onChange:e.onMonthChange,picker:"month"})},e.onMonthChange=function(t){e.setState({value:t,selectedValue:t})},e.queryData=function(t){e.setState({spinning:!0});var a=je.a.cloneDeep(e.props.queryCondition),n=Te()();t&&(n=Te()(t.format("YYYY-MM-DD"),"YYYY-MM-DD")),a.expireDateFrom=n.format("YYYY-MM")+"-01 00:00:00";var i=n.add(1,"months");a.expireDateTo=i.format("YYYY-MM")+"-01 00:00:00",B(a).then((function(t){e.setState({data:t.result.list,spinning:!1})})).catch((function(t){T.b.error("error! "+t),e.setState({spinning:!1})}))},e.onSelect=function(t){e.setState({value:t,selectedValue:t})},e.onPanelChange=function(t,a){console.log(t.format("YYYY-MM-DD")),console.log(a),e.setState({value:t}),e.queryData(t)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;function t(e){return["#999","lime","blue","orange","volcano"][e.todoLevel-1]}function a(e){var t=Object(n.jsx)(Ue.a,{style:{fontSize:12,marginRight:4}});"Todo"===e.classify&&(t=Object(n.jsx)(Ae.a,{style:{fontSize:12,marginRight:4}}));var a=Object(n.jsx)(Ne.a,{style:{fontSize:12,marginLeft:4,color:"green"}});0===e.todoStatus&&(a=Object(n.jsx)(qe.a,{style:{fontSize:12,marginLeft:4,color:"red"}}));var i=Object(n.jsxs)("span",{children:["[",e.classify,"]  ",1===e.todoStatus?"\u5df2\u5b8c\u6210":"\u672a\u5b8c\u6210",Object(n.jsx)("br",{}),Object(n.jsx)(M.a,{style:{fontSize:12},disabled:!0,defaultValue:e.todoLevel})]});return Object(n.jsx)("span",{children:Object(n.jsxs)(R.a,{title:i,color:"#108ee9",children:[t,e.title,a]},e.noteId)})}return Object(n.jsx)("div",{children:Object(n.jsxs)(Be.a,{tip:"Loading...",spinning:this.state.spinning,children:[this.state.value.format("YYYY-MM-DD"),Object(n.jsx)(We.a,{dateCellRender:function(i){var s=function(t){var a=t.format("YYYY-MM-DD");return e.state.data.filter((function(e){return a===e.expireDate}))||[]}(i);return Object(n.jsx)("ul",{className:"events",style:{listStyleType:"none",paddingLeft:4},children:s.map((function(i){return Object(n.jsx)("li",{onClick:function(){e.props.cb(i.noteId)},children:Object(n.jsx)(He.a,{color:t(i),text:a(i)})},i.title)}))})},monthCellRender:function(e){var t=function(e){if(8===e.month())return 1394}(e);return t?Object(n.jsxs)("div",{className:"notes-month",children:[Object(n.jsx)("section",{children:t}),Object(n.jsx)("span",{children:"Backlog number"})]}):null},value:this.state.value,mode:"month",onPanelChange:this.onPanelChange,onSelect:this.onSelect})]})})}}]),a}(s.a.Component);Qe.defaultProps={queryCondition:{},cb:function(){}};var Je=Qe,Ge=y.a.Search,Xe=(g.a.Option,[{key:5,value:"\u7d27\u6025",color:"#f50"},{key:4,value:"\u91cd\u8981",color:"#108ee9"},{key:3,value:"\u6b63\u5e38",color:"#87d068"},{key:2,value:"\u4e0d\u7d27\u6025",color:"#2db7f5"},{key:1,value:"\u4e0d\u91cd\u8981",color:"#2db7f5"}]),Ze=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e,i;Object(l.a)(this,a);for(var o=arguments.length,c=new Array(o),r=0;r<o;r++)c[r]=arguments[r];return(i=t.call.apply(t,[this].concat(c))).state=(e={calendarQueryCondition:{},noteId:"",finishDateTemp:Te()(),finishTimeTemp:Te()(),finishTimeModalVisible:!1,advanceSearchVisible:!1,colSpan:24,viewType:"DETAIL",queryCondition:{noteId:"",todoStatus:0},tabLoading:!1,tabPagination:{current:1,pageSize:10,size:"small",total:0,pageSizeOptions:[5,10,15,50,100],showTotal:function(e,t){return"".concat(e," items")},showSizeChanger:!0,showQuickJumper:!0},tabSort:{field:"createTime",order:"desc"},tabData:[],selectedRowKeys:[]},Object(p.a)(e,"noteId",""),Object(p.a)(e,"formModalVisible",!1),Object(p.a)(e,"viewModalVisible",!1),e),i.calendarComponent=s.a.createRef(),i.onSelectChange=function(e){i.setState({selectedRowKeys:e})},i.clearSelectedKeys=function(){i.setState({selectedRowKeys:[]})},i.checkedInit=function(e){return void 0!==i.state.selectedRowKeys.find((function(t){return t===e}))},i.checkboxChange=function(e){if(e.target.checked){void 0===i.state.selectedRowKeys.find((function(t){return t===e.target.value}))&&i.setState({selectedRowKeys:[].concat(Object(O.a)(i.state.selectedRowKeys),[e.target.value])})}else{var t=i.state.selectedRowKeys.filter((function(t){return t!==e.target.value}));i.setState({selectedRowKeys:t})}},i.tabChange=function(e,t,a){var n=Object(m.a)(Object(m.a)({},i.state.tabPagination),{},{current:e.current,pageSize:e.pageSize}),s={};s=a&&a.order?{field:a.field,order:a.order.replace("end","")}:i.state.tabSort,i.setState({tabPagination:n,tabSort:s},i.queryTabData)},i.tabPaginationChange=function(e,t){var a=Object(m.a)(Object(m.a)({},i.state.tabPagination),{},{current:e,pageSize:t});i.setState({tabPagination:a},i.queryTabData)},i.calendarSearch=function(){var e=je.a.cloneDeep(i.state.queryCondition);e.startTimeFrom&&(e.startTimeFrom=e.startTimeFrom+" 00:00:00"),e.startTimeTo&&(e.startTimeTo=e.startTimeTo+" 23:59:59"),e.finishTimeFrom&&(e.finishTimeFrom=e.finishTimeFrom+" 00:00:00"),e.finishTimeTo&&(e.finishTimeTo=e.finishTimeTo+" 23:59:59"),i.setState({calendarQueryCondition:e})},i.queryTabData=function(e){i.setState({tabLoading:!0});var t=i.state.tabPagination.current;e?(t=1,i.setState({tabPagination:Object(m.a)(Object(m.a)({},i.state.tabPagination),{},{current:1})})):t=i.state.tabPagination.current;var a=je.a.cloneDeep(i.state.queryCondition);a.startTimeFrom&&(a.startTimeFrom=a.startTimeFrom+" 00:00:00"),a.startTimeTo&&(a.startTimeTo=a.startTimeTo+" 23:59:59"),a.finishTimeFrom&&(a.finishTimeFrom=a.finishTimeFrom+" 00:00:00"),a.finishTimeTo&&(a.finishTimeTo=a.finishTimeTo+" 23:59:59"),console.log(a),a.pageNum=t,a.pageSize=i.state.tabPagination.pageSize,B(a).then((function(e){i.setState({tabLoading:!1,tabData:e.result.list,tabPagination:Object(m.a)(Object(m.a)({},i.state.tabPagination),{},{total:e.result.total})})})).catch((function(e){T.b.error("error! "+e),i.setState({tabLoading:!1})}))},i.createOperate=function(e){var t=Object(n.jsxs)(f.a,{children:[Object(n.jsx)(f.a.Item,{icon:Object(n.jsx)(Ie.a,{}),children:Object(n.jsx)(S.a,{placement:"topLeft",title:"Are you confirm delete this record",onConfirm:function(){i.logicDeleteNote(e.noteId)},okText:"Yes",cancelText:"No",children:"Delete"})},"1"),Object(n.jsx)(f.a.Item,{onClick:function(){i.openNoteViewModal(e.noteId)},icon:Object(n.jsx)(we.a,{}),children:"Data View"},"2"),"Todo"===e.classify?0===e.todoStatus?Object(n.jsx)(f.a.Item,{onClick:function(){i.openFinishTimeModal(e.noteId,e.finishTime)},icon:Object(n.jsx)(Ne.a,{}),children:"Finish"},"3"):Object(n.jsx)(f.a.Item,{onClick:function(){i.toggleNoteState(e.noteId)},icon:Object(n.jsx)(ze.a,{}),children:"Unfinish"},"4"):null]});return Object(n.jsxs)("div",{children:[Object(n.jsx)("a",{className:"ant-dropdown-link",onClick:function(){i.openNoteFormModal(e.noteId)},children:"Edit"}),Object(n.jsx)(D.a,{overlay:t,children:Object(n.jsx)(v.a,{type:"link",children:Object(n.jsx)(Fe.a,{})})})]})},i.onSearch=function(e){i.setState({queryCondition:Object(m.a)(Object(m.a)({},i.state.queryCondition),{},{keyWords:e})},(function(){i.queryTabData(!0)}))},i.resetSearch=function(){i.setState({queryCondition:{}},(function(){i.queryTabData(!0)}))},i.keyWordsChange=function(e){i.setState({queryCondition:Object(m.a)(Object(m.a)({},i.state.queryCondition),{},{keyWords:e.target.value})})},i.clearKeyWords=function(){i.setState({queryCondition:{keyWords:""}},(function(){i.queryTabData(!0)}))},i.logicDeleteNote=function(e){J(e).then((function(e){T.b.info("SUCCESS"),i.queryTabData()})).catch((function(e){T.b.info("FAILURE")}))},i.deleteLogicByNoteIds=function(){i.state.selectedRowKeys.length>0?G(i.state.selectedRowKeys).then((function(e){T.b.info("SUCCESS"),i.setState({selectedRowKeys:[]}),i.queryTabData()})).catch((function(e){T.b.error("FAILURE")})):T.b.error("Please Select A Item At Least")},i.closeNoteFormModal=function(){i.setState({formModalVisible:!1,noteId:""})},i.closeNoteViewModal=function(){i.setState({viewModalVisible:!1,noteId:""})},i.openNoteFormModal=function(e){e?i.setState({noteId:e,formModalVisible:!0}):i.setState({formModalVisible:!0})},i.openNoteViewModal=function(e){i.setState({noteId:e,viewModalVisible:!0})},i.toggleViewType=function(e){i.setState({viewType:e}),"CALENDAR"===e&&i.calendarSearch()},i.handleAdvanceSearchVisibleChange=function(e){i.setState({advanceSearchVisible:e})},i.createMode=function(e,t,a){a?i.setState({queryCondition:Object(m.a)(Object(m.a)({},i.state.queryCondition),{},Object(p.a)({},t,e))},i.queryTabData):i.setState({queryCondition:Object(m.a)(Object(m.a)({},i.state.queryCondition),{},Object(p.a)({},t,e))})},i.search=function(){X(i.state.queryCondition.keyWords,null).then((function(e){i.setState({tabData:e.result})}))},i.deleteIndex=function(){Z().then((function(e){e.result?T.b.success("success! "):T.b.error(e.msg)}))},i.createIndex=function(){$().then((function(e){e.result?T.b.success("success! "):T.b.error(e.msg)}))},i.computColor=function(e){if("Todo"===e.classify){if(0!==e.todoStatus)return"block gray_block";if(5===e.todoLevel)return"block red_block";if(4===e.todoLevel)return"block yellow_block";if(3===e.todoLevel)return"block green_block"}return"block"},i.toggleNoteState=function(e){ee(e).then((function(e){console.log(e),"-1"!==e.code?(T.b.success("SUCCESS"),i.queryTabData()):T.b.error(e.msg)}),(function(e){T.b.error(e.msg)}))},i.setFinishTimeCurrent=function(){var e=Te()();i.setState({finishDateTemp:e,finishTimeTemp:e})},i.finishTodo=function(){var e=i.state.finishDateTemp.format("YYYY-MM-DD")+" "+i.state.finishTimeTemp.format("HH:mm");te(i.state.noteId,e).then((function(e){console.log(e),T.b.success("SUCCESS"),i.closeFinishTimeModal(),i.queryTabData()}))},i.closeFinishTimeModal=function(){i.setState({finishTimeModalVisible:!1,noteId:""})},i.openFinishTimeModal=function(e,t){t&&i.setState({finishDateTemp:Te()(t,"YYYY-MM-DD HH:mm"),finishTimeTemp:Te()(t,"YYYY-MM-DD HH:mm")}),i.setState({noteId:e,finishTimeModalVisible:!0})},i}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.queryTabData()}},{key:"render",value:function(){var e=this,t={};Xe.forEach((function(e){t[e.key]=e}));var a=[{title:"classify",dataIndex:"classify",key:"classify",sorter:!0},{title:"title",width:500,dataIndex:"title",key:"title",sorter:!0},{title:"expireDate",dataIndex:"expireDate",key:"expireDate",sorter:!0,render:function(e,t,a){return ae(e)}},{title:"alarmDays",dataIndex:"alarmDays",key:"alarmDays",sorter:!0},{title:"Operate",key:"operate",render:function(t,a,n){return e.createOperate(a)}}],i={selectedRowKeys:this.state.selectedRowKeys,preserveSelectedRowKeys:!0,onChange:this.onSelectChange,selections:[{key:"clearAll",text:"Clear All",onSelect:function(t){e.setState({selectedRowKeys:[]})}}]},s=Object(n.jsx)("div",{style:{background:"#ecf0f5",borderRadius:3,padding:8},children:Object(n.jsx)("div",{className:"block",children:Object(n.jsx)(C.a,{rowSelection:i,loading:this.state.tabLoading,rowKey:function(e){return e.noteId},size:"small",columns:a,dataSource:this.state.tabData,pagination:this.state.tabPagination,onChange:this.tabChange})})}),o=Object(n.jsx)(Je,{ref:this.calendarComponent,cb:this.openNoteFormModal,queryCondition:this.state.calendarQueryCondition}),c=Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",background:"#ecf0f5",borderRadius:3,padding:8},children:this.state.tabData.length>0?this.state.tabData.map((function(t){return Object(n.jsx)("div",{style:{flex:"0 0 20%",padding:"0px 8px 8px 0px"},children:Object(n.jsxs)("div",{className:e.computColor(t),children:[Object(n.jsx)("div",{className:"title",children:t.title}),Object(n.jsxs)("div",{style:{height:126},children:[Object(n.jsxs)("dl",{className:"profile",children:[Object(n.jsx)("dt",{children:"classify"}),Object(n.jsx)("dd",{children:t.classify})]}),Object(n.jsxs)("dl",{className:"profile",children:[Object(n.jsx)("dt",{children:"Level"}),Object(n.jsx)("dd",{children:Object(n.jsx)(M.a,{disabled:!0,defaultValue:t.todoLevel,style:{fontSize:14}})})]}),"Todo"===t.classify?Object(n.jsxs)("div",{children:[Object(n.jsxs)("dl",{className:"profile",children:[Object(n.jsx)("dt",{children:"Status"}),Object(n.jsxs)("dd",{children:[1===t.todoStatus?Object(n.jsx)(Ne.a,{}):Object(n.jsx)(qe.a,{style:{fontSize:14,color:"red"}})," "]})]}),Object(n.jsxs)("dl",{className:"profile",children:[Object(n.jsx)("dt",{children:"expireDate"}),Object(n.jsx)("dd",{children:ae(t.expireDate)})]}),Object(n.jsxs)("dl",{className:"profile",children:[Object(n.jsx)("dt",{children:"alarmDays"}),Object(n.jsx)("dd",{children:t.alarmDays})]})]}):null]}),Object(n.jsx)("div",{className:"divider"}),Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)("div",{style:{flex:"1 1 auto",paddingTop:4},children:Object(n.jsx)(k.a,{checked:e.checkedInit(t.noteId),value:t.noteId,onChange:e.checkboxChange})}),Object(n.jsx)("div",{style:{flex:"0 0 75px"},children:e.createOperate(t)})]})]})},t.noteId)})):Object(n.jsx)("div",{style:{padding:8,textAlign:"center",background:"#fff",width:"100%"},children:Object(n.jsx)(Y.a,{image:Y.a.PRESENTED_IMAGE_SIMPLE})})}),Object(n.jsx)("div",{style:{textAlign:"right"},children:Object(n.jsx)(I.a,Object(m.a)(Object(m.a)({style:{marginTop:8}},this.state.tabPagination),{},{onChange:this.tabPaginationChange}))})]}),r=Object(n.jsxs)("div",{style:{width:300},children:[Object(n.jsxs)(w.a,{gutter:24,children:[Object(n.jsx)(N.a,{span:24,children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"ID"}),Object(n.jsx)("dd",{children:Object(n.jsx)(y.a,{size:this.state.inputSize,value:this.state.queryCondition.noteId,onChange:function(t){e.createMode(t.target.value,"noteId")}})})]})}),Object(n.jsx)(N.a,{span:24,children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"classify"}),Object(n.jsx)("dd",{children:Object(n.jsx)(y.a,{size:this.state.inputSize,value:this.state.queryCondition.classify,onChange:function(t){e.createMode(t.target.value,"classify")}})})]})}),Object(n.jsx)(N.a,{span:24,children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"title"}),Object(n.jsx)("dd",{children:Object(n.jsx)(y.a,{size:this.state.inputSize,value:this.state.queryCondition.title,onChange:function(t){e.createMode(t.target.value,"title")}})})]})}),Object(n.jsx)(N.a,{span:24,children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"content"}),Object(n.jsx)("dd",{children:Object(n.jsx)(y.a,{size:this.state.inputSize,value:this.state.queryCondition.content,onChange:function(t){e.createMode(t.target.value,"content")}})})]})}),Object(n.jsx)(N.a,{span:24,children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"expireDate"}),Object(n.jsxs)("dd",{children:[Object(n.jsx)(z.a,{size:this.state.inputSize,onChange:function(t,a){e.createMode(a,"expireDateFrom")},value:this.state.queryCondition.expireDateFrom?Te()(this.state.queryCondition.expireDateFrom,"YYYY-MM-DD"):null}),Object(n.jsx)(z.a,{size:this.state.inputSize,onChange:function(t,a){e.createMode(a,"expireDateTo")},value:this.state.queryCondition.expireDateTo?Te()(this.state.queryCondition.expireDateTo,"YYYY-MM-DD"):null})]})]})}),Object(n.jsx)(N.a,{span:24,children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"Start Date"}),Object(n.jsxs)("dd",{children:[Object(n.jsx)(z.a,{size:this.state.inputSize,onChange:function(t,a){e.createMode(a,"startTimeFrom")},value:this.state.queryCondition.startTimeFrom?Te()(this.state.queryCondition.startTimeFrom,"YYYY-MM-DD"):null}),Object(n.jsx)(z.a,{size:this.state.inputSize,onChange:function(t,a){e.createMode(a,"startTimeTo")},value:this.state.queryCondition.startTimeTo?Te()(this.state.queryCondition.startTimeTo,"YYYY-MM-DD"):null})]})]})}),Object(n.jsx)(N.a,{span:24,children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsx)("dt",{children:"Finish Date"}),Object(n.jsxs)("dd",{children:[Object(n.jsx)(z.a,{size:this.state.inputSize,onChange:function(t,a){e.createMode(a,"finishTimeFrom")},value:this.state.queryCondition.finishTimeFrom?Te()(this.state.queryCondition.finishTimeFrom,"YYYY-MM-DD"):null}),Object(n.jsx)(z.a,{size:this.state.inputSize,onChange:function(t,a){e.createMode(a,"finishTimeTo")},value:this.state.queryCondition.finishTimeTo?Te()(this.state.queryCondition.finishTimeTo,"YYYY-MM-DD"):null})]})]})})]}),Object(n.jsx)(F.a,{style:{margin:"8px 0px"}}),Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsx)(v.a,{style:{marginRight:8},onClick:function(){e.queryTabData(!0)},icon:Object(n.jsx)(Le.a,{}),children:"Search"}),Object(n.jsx)(v.a,{onClick:this.resetSearch,children:"Reset"})]})]}),l={LIST:c,DETAIL:s,CALENDAR:o};return Object(n.jsxs)("div",{children:[Object(n.jsxs)(w.a,{gutter:24,children:[Object(n.jsxs)(N.a,{span:12,children:["LIST"===this.state.viewType?Object(n.jsx)(Re.a,{style:{fontSize:16,color:"#1890ff"}}):Object(n.jsx)(Re.a,{style:{fontSize:14,cursor:"pointer"},onClick:function(){e.toggleViewType("LIST")}}),Object(n.jsx)(F.a,{type:"vertical"}),"DETAIL"===this.state.viewType?Object(n.jsx)(Ee.a,{style:{fontSize:16,color:"#1890ff"}}):Object(n.jsx)(Ee.a,{style:{fontSize:14,cursor:"pointer"},onClick:function(){e.toggleViewType("DETAIL")}}),Object(n.jsx)(F.a,{type:"vertical"}),"CALENDAR"===this.state.viewType?Object(n.jsx)(Ae.a,{style:{fontSize:16,color:"#1890ff"}}):Object(n.jsx)(Ae.a,{style:{fontSize:14,cursor:"pointer"},onClick:function(){e.toggleViewType("CALENDAR")}})]}),Object(n.jsx)(N.a,{span:12,children:Object(n.jsxs)("div",{className:"tabTool",children:[Object(n.jsx)(q.a,{style:{marginRight:8},checked:1===this.state.queryCondition.todoStatus,onChange:function(t){e.createMode(t?1:0,"todoStatus",!0)},checkedChildren:"\u5df2\u5b8c\u6210",unCheckedChildren:"\u672a\u5b8c\u6210"}),Object(n.jsx)(Ge,{placeholder:"Key Word",style:{width:200,marginRight:8},onSearch:this.onSearch,onChange:this.keyWordsChange,suffix:Object(n.jsx)(Ve.a,{onClick:this.clearKeyWords,style:{cursor:"pointer",fontSize:12,color:"#aaa"}}),value:this.state.queryCondition.keyWords,enterButton:!0}),Object(n.jsx)(L.a,{content:r,trigger:"click",title:"Advance Search",visible:this.state.advanceSearchVisible,onVisibleChange:this.handleAdvanceSearchVisibleChange,children:Object(n.jsx)(v.a,{type:"link",icon:this.state.advanceSearchVisible?Object(n.jsx)(Ke.a,{}):Object(n.jsx)(Pe.a,{}),children:"Advance"})}),Object(n.jsx)(R.a,{title:"Create",children:Object(n.jsx)(v.a,{type:"primary",icon:Object(n.jsx)(_e.a,{}),onClick:function(){e.openNoteFormModal()}})})]})})]}),this.state.selectedRowKeys&&this.state.selectedRowKeys.length>0?Object(n.jsx)(E.a,{type:"info",message:Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsxs)("div",{style:{flex:"1 1 auto"},children:["Selected ",this.state.selectedRowKeys.length," items"," ",Object(n.jsx)(R.a,{title:"Clear Selected",children:Object(n.jsx)(x.a,{icon:"times",style:{fontSize:14,paddingTop:2,marginRight:8,color:"#999999",cursor:"pointer"},onClick:this.clearSelectedKeys})})]}),Object(n.jsx)("div",{style:{flex:"0 0 50"},children:Object(n.jsx)(R.a,{title:"Delete Selected",children:Object(n.jsx)(S.a,{placement:"topLeft",title:"Are you confirm delete this record",onConfirm:this.deleteLogicByNoteIds,okText:"Yes",cancelText:"No",children:Object(n.jsx)(v.a,{size:"small",icon:Object(n.jsx)(Ie.a,{})})})})})]})}):null,l[this.state.viewType],Object(n.jsx)(A.a,{title:"Note Information",visible:this.state.formModalVisible,footer:null,width:"95%",style:{top:24},destroyOnClose:!0,onCancel:this.closeNoteFormModal,maskClosable:!1,children:Object(n.jsx)(Me,{noteId:this.state.noteId,canEdit:!0,closeFn:this.closeNoteFormModal,cb:this.queryTabData})}),Object(n.jsx)(A.a,{title:"Edit Note",visible:this.state.viewModalVisible,width:"80%",destroyOnClose:!0,onCancel:this.closeNoteViewModal,maskClosable:!1,children:Object(n.jsx)(Ye,{noteId:this.state.noteId,canEdit:!0,closeFn:this.closeNoteViewModal})}),Object(n.jsx)(A.a,{title:"Finish Time",visible:this.state.finishTimeModalVisible,destroyOnClose:!0,onCancel:this.closeFinishTimeModal,onOk:this.finishTodo,maskClosable:!1,children:Object(n.jsxs)("dl",{className:"form_col",children:[Object(n.jsxs)("dt",{children:["Finish Time"," ",Object(n.jsx)(xe.a,{onClick:this.setFinishTimeCurrent,style:{color:"#2db7f5",cursor:"pointer"}})]}),Object(n.jsxs)("dd",{children:[Object(n.jsx)(z.a,{style:{width:"50%"},size:this.state.inputSize,onChange:function(t,a){e.setState({finishDateTemp:t})},value:this.state.finishDateTemp}),Object(n.jsx)(V.a,{style:{width:"50%"},format:"HH:mm",size:this.state.inputSize,onChange:function(t,a){e.setState({finishTimeTemp:t})},value:this.state.finishTimeTemp})]})]})})]})}}]),a}(s.a.Component),$e=(b.a.Header,b.a.Content),et=b.a.Footer,tt=(b.a.Sider,f.a.SubMenu,function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={collapsed:!1},e.onCollapse=function(t){e.setState({collapsed:t})},e}return Object(d.a)(a,[{key:"render",value:function(){this.state.collapsed;return Object(n.jsx)(b.a,{style:{minHeight:"100vh"},children:Object(n.jsxs)(b.a,{className:"site-layout",children:[Object(n.jsx)($e,{style:{margin:"8px 8px 0px"},children:Object(n.jsx)("div",{className:"site-layout-background",style:{padding:"8px 8px",minHeight:360,background:"#fff"},children:Object(n.jsx)(u.a,{path:"/",exact:!0,component:Ze})})}),Object(n.jsx)(et,{style:{textAlign:"center"},children:"Code Generator Example"})]})})}}]),a}(s.a.Component));var at=function(){return Object(n.jsx)(r.a,{children:Object(n.jsx)(tt,{})})},nt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,527)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),n(e),i(e),s(e),o(e)}))};c.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(at,{})}),document.getElementById("root")),nt()}},[[499,1,2]]]);
//# sourceMappingURL=main.51869a8b.chunk.js.map